<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.cell.*?>
<?import javafx.scene.control.*?>
<?import java.lang.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.image.*?>

<AnchorPane xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" 
	fx:controller="kz.aksay.polygraph.desktop.OrderConsumptionTableViewController">
	<children>
	
      <BorderPane AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
   		<top>
	      <FlowPane alignment="CENTER_LEFT" hgap="10.0" vgap="10.0">
	      	<children>
	            <Label text="Статус:"/>
	            <ComboBox fx:id="stateCombo"/>
	            <Label text="Дата заказа с :"/>
	            <DatePicker fx:id="fromDate" />
	            <Label text="по :"/>
	            <DatePicker fx:id="toDate" />
	            <Button mnemonicParsing="false" text="Поиск" onAction="#findMaterialConsumptions">
	            	<graphic><ImageView fitHeight="16.0" fitWidth="16.0"><Image url="@icons/Magnifying_glass_64.png"></Image></ImageView></graphic>
	            </Button>
	        </children>
	      </FlowPane>
	    </top>
   		<center>

	   	  <ScrollPane prefHeight="480" prefWidth="640.0" fitToHeight="true" fitToWidth="true">
	   	  
		      <TableView fx:id="orderConsumptionsTableView" prefHeight="480.0" prefWidth="640.0" BorderPane.alignment="CENTER" VBox.vgrow="SOMETIMES">
		        <columns>
		        <TableColumn prefWidth="100.0" text="Дата заказа">
		          	<cellValueFactory><PropertyValueFactory property="orderCreatedAtString"/></cellValueFactory>
		          </TableColumn>
		          <TableColumn prefWidth="350.0" text="Материал">
		          	<cellValueFactory><PropertyValueFactory property="materialName"/></cellValueFactory>
		          </TableColumn>
		          
		          <TableColumn prefWidth="200.0" text="Количество">
		          	<cellValueFactory><PropertyValueFactory property="quantity" /></cellValueFactory>
		          </TableColumn>
		        </columns>
		      </TableView>
	      </ScrollPane>

		</center>
		<bottom>
				<VBox >
					<children>
					<HBox VBox.vgrow="ALWAYS" spacing="10.0">
					<children>
						<Button onAction="#openOrderForm" alignment="TOP_LEFT">Открыть заказ</Button>
						<Button fx:id="exportButton" onAction="#exportToXML" alignment="TOP_LEFT">Выгрузить в XML</Button>
					</children>
					</HBox>
					<Label fx:id="errorLabel" text="" />
					</children>
				</VBox>
		</bottom>
	</BorderPane>
   

	
	</children>
</AnchorPane>
